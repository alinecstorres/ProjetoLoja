<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml" layout:decorate="~{administrativo/fragments/layout}">
<head>
	<title>Página Lista de Vendas do Administrativo</title>
</head>
<body>
	<section class="layout-content" layout:fragment="corpo">
		<div class="row">
			
			<div class="col-2">
				<a class="btn btn-outline-dark" href="/administrativo/venda/cadastrar" role="button">
					<span class="bi bi-currency-dollar" title="Nova Venda"></span>
				</a>
			</div>
			<div class="col-10" style="text-align: end;">
				<h3>Lista de Vendas</h3>
			</div>

		</div>
		<br/>

		<div class="row">
			<div class="col-4">
				
				<form action="/administrativo/venda/buscar/data" method="GET">
	
					<div class="input-group mb-3">
						<input type="date" class="form-control" autofocus="autofocus" aria-label="SearchDate" name="date" aria-describedby="button-addon2">
						<button type="submit" class="btn btn-outline-secondary"><span class="bi bi-search"></span></button>
						
					</div>
		
				</form>
	
			</div>
			<div class="col-4">
				
				<form action="/administrativo/venda/buscar/funcionario" method="GET">
	
					<div class="input-group mb-3">
						<input type="text" class="form-control" aria-label="SearchName" name="funcionario" aria-describedby="button-addon2" placeholder="Nome do funcionário">
						<button type="submit" class="btn btn-outline-secondary"><span class="bi bi-search"></span></button>
						
					</div>
		
				</form>
	
			</div>
			<div class="col-4">
				
				<form action="/administrativo/venda/buscar/cliente" method="GET">
	
					<div class="input-group mb-3">
						<input type="text" class="form-control" aria-label="SearchName" name="cliente" aria-describedby="button-addon2" placeholder="Nome do Cliente">
						<button type="submit" class="btn btn-outline-secondary"><span class="bi bi-search"></span></button>
						
					</div>
		
				</form>
	
			</div>

		</div>
		

		<div class="table-responsive">
			<table class="table table-striped table-hover table-sm">
				<thead>
				<tr>
					<th>#</th>
					<th>Cliente</th>
					<th>Funcionário</th>
					<th>Data</th>
					<th>Valor</th>
					<th>Desconto</th>
					<th>Valor com Desconto</th>
					<th>Produtos</th>
				</tr>
				</thead>
				<tbody>
					<tr th:each="venda : ${listaVendas}">
						<td th:text="${venda.id}"></td>
						<td th:text="${venda.cliente.nome}"></td>
						<td th:text="${venda.funcionario.nome}"></td>
						<td th:text="${#dates.format(venda.dataEntrada, 'dd-MM-yyyy')}"></td>
						<td th:text="${#numbers.formatCurrency(venda.valorTotal)}"></td>
						<td th:text="${#numbers.formatPercent(venda.desconto/100,0,0)}"></td>
						<td th:text="${#numbers.formatCurrency(venda.valorComDesconto)}"></td>
						<td colspan="2"><a style="margin-left: 15px" class="btn btn-outline-dark" th:href="@{/administrativo/venda/itens/{id}(id=${venda.id})}" role="button"><span class="bi bi-eye" title="Ver Produtos" aria-hidden="true"></span>
						</a>
					</tr>
				</tbody>
			</table>
		</div>
		
	</section>
</body>
</html>		